<div id="module_wrapper" class="module_box">
  <div class="tabs">
    <span>任務一</span>
    <span>任務二</span>
  </div>

  <div class="units-title wow bounceInRight"></div>

  <div class="sideTool">
    <div class="btn_answer"></div>
    <div class="btn_replay"></div>
    <div class="btn_check"></div>
  </div>

  <div id="contents" class="contents">
    <div>
      <div class="intro">
        <div>
          <h3>How to play?</h3>
          <p>
            <b>英文單字的變化規則</b
            >：把有相同地方的單字分為一類，並找出這個相同的地方代表的意思和單字的中文。點擊卡片可以翻面。<br />1.點選相同的地方做切換。<br />2.找到對應的卡片放到分類區。
          </p>
          <span class="cta" onClick="switchIntro()">START</span>
        </div>
      </div>

      <div class="wow slideInLeft" style="margin-right: 170px">
        <div
          class="sensorArea"
          style="position: absolute; z-index: 2; height: 100%"
        >
          <span
            ox="0"
            oy="0"
            style="
              position: absolute;
              width: 97px;
              height: 190px;
              top: 0px;
              left: 0px;
            "
            group=""
          ></span>
        </div>
        <div
          class="typeArea"
          onClick="swapGroup($(this))"
          style="top: 219px; left: 11px"
          gid="0"
          text1="sub^bi^pre"
          text2="下面的^兩個的^預先"
        >
          <span
            class="text1"
            style="top: 0px; left: 0px; width: 75px; height: 12px"
          ></span>
          <span
            class="text2"
            style="top: 44px; left: 0px; width: 75px; height: 12px"
          ></span>
        </div>
        <img
          width="auto"
          height="280"
          src="./DATA/PT2/BOOK4/IMAGES/PT2-4-2-4-2.png"
        />
      </div>

      <div
        class="toys toys_rectangle noShuffle wow slideInRight"
        style="width: 200px; left: auto; right: 65px; bottom: auto"
      >
        <div
          class="toy cards"
          group="bi"
          cid="A"
          style="width: 90px; height: 50px"
        >
          <img src="./DATA/PT2/BOOK4/IMAGES/PT2-4-2-4-1A.png" />
          <img class="back" src="./DATA/PT2/BOOK4/IMAGES/PT2-4-2-4-1A2.png" />
        </div>
        <div
          class="toy cards"
          group="pre"
          cid="B"
          style="width: 90px; height: 50px"
        >
          <img src="./DATA/PT2/BOOK4/IMAGES/PT2-4-2-4-1B.png" />
          <img class="back" src="./DATA/PT2/BOOK4/IMAGES/PT2-4-2-4-1A2.png" />
        </div>
        <div
          class="toy cards"
          group="bi"
          cid="C"
          style="width: 90px; height: 50px"
        >
          <img src="./DATA/PT2/BOOK4/IMAGES/PT2-4-2-4-1C.png" />
          <img class="back" src="./DATA/PT2/BOOK4/IMAGES/PT2-4-2-4-1C2.png" />
        </div>
        <div
          class="toy cards"
          group="pre"
          cid="D"
          style="width: 90px; height: 50px"
        >
          <img src="./DATA/PT2/BOOK4/IMAGES/PT2-4-2-4-1D.png" />
          <img class="back" src="./DATA/PT2/BOOK4/IMAGES/PT2-4-2-4-1D2.png" />
        </div>
        <div
          class="toy cards"
          group="sub"
          cid="E"
          style="width: 90px; height: 50px"
        >
          <img src="./DATA/PT2/BOOK4/IMAGES/PT2-4-2-4-1E.png" />
          <img class="back" src="./DATA/PT2/BOOK4/IMAGES/PT2-4-2-4-1E2.png" />
        </div>
        <div
          class="toy cards"
          group="sub"
          cid="F"
          style="width: 90px; height: 50px"
        >
          <img src="./DATA/PT2/BOOK4/IMAGES/PT2-4-2-4-1F.png" />
          <img class="back" src="./DATA/PT2/BOOK4/IMAGES/PT2-4-2-4-1F2.png" />
        </div>
        <div
          class="toy cards"
          group="sub"
          cid="G"
          style="width: 90px; height: 50px"
        >
          <img src="./DATA/PT2/BOOK4/IMAGES/PT2-4-2-4-1G.png" />
          <img class="back" src="./DATA/PT2/BOOK4/IMAGES/PT2-4-2-4-1G2.png" />
        </div>
        <div
          class="toy cards"
          group="bi"
          cid="H"
          style="width: 90px; height: 50px"
        >
          <img src="./DATA/PT2/BOOK4/IMAGES/PT2-4-2-4-1H.png" />
          <img class="back" src="./DATA/PT2/BOOK4/IMAGES/PT2-4-2-4-1H2.png" />
        </div>
        <div
          class="toy cards"
          group="pre"
          cid="I"
          style="width: 90px; height: 50px"
        >
          <img src="./DATA/PT2/BOOK4/IMAGES/PT2-4-2-4-1I.png" />
          <img class="back" src="./DATA/PT2/BOOK4/IMAGES/PT2-4-2-4-1I2.png" />
        </div>
      </div>

      <div class="ref simplyDrag wow bounceInUp">
        <img
          width="auto"
          height="80"
          src="./DATA/PT2/BOOK4/IMAGES/PT2-4-2-4-1R.png"
          src2="./DATA/PT2/BOOK4/IMAGES/PT2-4-2-4-1RA.png"
        />
      </div>
    </div>

    <div>
      <div class="intro">
        <div>
          <h3>How to play?</h3>
          <p>
            <b>英文單字的變化規則</b
            >：把有相同地方的單字分為一類，並找出這個相同的地方代表的意思和單字的中文。點擊卡片可以翻面。<br />1.點選相同的地方做切換。<br />2.找到對應的卡片放到分類區。
          </p>
          <span class="cta" onClick="switchIntro()">START</span>
        </div>
      </div>

      <div class="wow slideInLeft" style="margin-right: 170px">
        <div
          class="sensorArea"
          style="position: absolute; z-index: 2; height: 100%"
        >
          <span
            ox="0"
            oy="0"
            style="
              position: absolute;
              width: 97px;
              height: 190px;
              top: 0px;
              left: 0px;
            "
            group=""
          ></span>
        </div>
        <div
          class="typeArea"
          onClick="swapGroup($(this))"
          style="top: 219px; left: 11px"
          gid="0"
          text1="post^multi^auto"
          text2="之後的^多^自動"
        >
          <span
            class="text1"
            style="top: 0px; left: 0px; width: 75px; height: 12px"
          ></span>
          <span
            class="text2"
            style="top: 44px; left: 0px; width: 75px; height: 12px"
          ></span>
        </div>
        <img
          width="auto"
          height="280"
          src="./DATA/PT2/BOOK4/IMAGES/PT2-4-2-4-2.png"
        />
      </div>

      <div
        class="toys toys_rectangle noShuffle wow slideInRight"
        style="width: 200px; left: auto; right: 65px; bottom: auto"
      >
        <div
          class="toy cards"
          group="post"
          cid="A"
          style="width: 90px; height: 50px"
        >
          <img src="./DATA/PT2/BOOK4/IMAGES/PT2-4-2-4-2A.png" />
          <img class="back" src="./DATA/PT2/BOOK4/IMAGES/PT2-4-2-4-2A2.png" />
        </div>
        <div
          class="toy cards"
          group="multi"
          cid="B"
          style="width: 90px; height: 50px"
        >
          <img src="./DATA/PT2/BOOK4/IMAGES/PT2-4-2-4-2B.png" />
          <img class="back" src="./DATA/PT2/BOOK4/IMAGES/PT2-4-2-4-2B2.png" />
        </div>
        <div
          class="toy cards"
          group="post"
          cid="C"
          style="width: 90px; height: 50px"
        >
          <img src="./DATA/PT2/BOOK4/IMAGES/PT2-4-2-4-2C.png" />
          <img class="back" src="./DATA/PT2/BOOK4/IMAGES/PT2-4-2-4-2C2.png" />
        </div>
        <div
          class="toy cards"
          group="multi"
          cid="D"
          style="width: 90px; height: 50px"
        >
          <img src="./DATA/PT2/BOOK4/IMAGES/PT2-4-2-4-2D.png" />
          <img class="back" src="./DATA/PT2/BOOK4/IMAGES/PT2-4-2-4-2D2.png" />
        </div>
        <div
          class="toy cards"
          group="post"
          cid="E"
          style="width: 90px; height: 50px"
        >
          <img src="./DATA/PT2/BOOK4/IMAGES/PT2-4-2-4-2E.png" />
          <img class="back" src="./DATA/PT2/BOOK4/IMAGES/PT2-4-2-4-2E2.png" />
        </div>
        <div
          class="toy cards"
          group="auto"
          cid="F"
          style="width: 90px; height: 50px"
        >
          <img src="./DATA/PT2/BOOK4/IMAGES/PT2-4-2-4-2F.png" />
          <img class="back" src="./DATA/PT2/BOOK4/IMAGES/PT2-4-2-4-2F2.png" />
        </div>
        <div
          class="toy cards"
          group="auto"
          cid="G"
          style="width: 90px; height: 50px"
        >
          <img src="./DATA/PT2/BOOK4/IMAGES/PT2-4-2-4-2G.png" /><img
            class="back"
            src="./DATA/PT2/BOOK4/IMAGES/PT2-4-2-4-2G2.png"
          />
        </div>
        <div
          class="toy cards"
          group="multi"
          cid="H"
          style="width: 90px; height: 50px"
        >
          <img src="./DATA/PT2/BOOK4/IMAGES/PT2-4-2-4-2H.png" />
          <img class="back" src="./DATA/PT2/BOOK4/IMAGES/PT2-4-2-4-2H2.png" />
        </div>
        <div
          class="toy cards"
          group="auto"
          cid="I"
          style="width: 90px; height: 50px"
        >
          <img src="./DATA/PT2/BOOK4/IMAGES/PT2-4-2-4-2I.png" />
          <img class="back" src="./DATA/PT2/BOOK4/IMAGES/PT2-4-2-4-2I2.png" />
        </div>
      </div>

      <div class="ref simplyDrag wow bounceInUp">
        <img
          width="auto"
          height="80"
          src="./DATA/PT2/BOOK4/IMAGES/PT2-4-2-4-2R.png"
          src2="./DATA/PT2/BOOK4/IMAGES/PT2-4-2-4-2RA.png"
        />
      </div>
    </div>
  </div>
  <div class="assetsPreload"></div>
</div>

<script>
  //確認是否全部答對
  var swapGroup = (tar) => {
    var gid = parseInt(tar.attr("gid"));
    var text1Arr = tar.attr("text1").split("^");
    var text2Arr = tar.attr("text2").split("^");
    tar.find(".text1").text(text1Arr[gid]);
    tar.find(".text2").text(text2Arr[gid]);
    $(".contents > div.selected .sensorArea > span").attr(
      "group",
      text1Arr[gid]
    );
    //
    gid += 1;
    if (gid >= text1Arr.length) {
      gid = 0;
    }
    tar.attr("gid", gid);
    rootSoundEffect($click);
  };

  //確認是否全部答對
  var withinCheckAnswer = function (gotWrong) {
    var group = $(".contents > div.selected .sensorArea > span").attr("group");

    if (
      $(`.contents > div.selected .toys .toy[group='${group}']`).length ==
      $(".cardAvatarDie.right").length
    ) {
      if (gotWrong == 0) {
        bingo();
      } else {
        //有錯誤的
        rootSoundEffect($stupid);
      }
    }

    die;
  };

  //點擊效果
  var tapElem = function (tar) {
    if ($(tar).hasClass("ref") || $(tar).hasClass("cards")) {
      if ($(tar).find("img").attr("src2")) {
        var src = $(tar).find("img").attr("src");
        var src2 = $(tar).find("img").attr("src2");
        $(tar).find("img").attr("src", src2);
        $(tar).find("img").attr("src2", src);
        rootSoundEffect($key);
      }
    }
  };
</script>
<style>
  .cards img.back {
    position: absolute !important;
    opacity: 0;
    top: 0;
    left: 0;
    z-index: 2 !important;
  }
  .cards:hover img.back {
    opacity: 1;
  }
  .typeArea {
    position: absolute;
    z-index: 1;
  }
  .typeArea > span {
    pointer-events: auto;
    cursor: pointer;
    position: absolute;
    font-size: 12px;
    line-height: 1;
    color: #000;
    text-align: center;

    white-space: nowrap;
  }
</style>
