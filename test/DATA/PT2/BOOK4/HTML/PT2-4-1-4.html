<div id="module_wrapper" class="module_basic">
  <div class="tabs">
    <span class="demo">示範</span>
    <span>任務一</span>
  </div>

  <div class="units-title wow bounceInRight"></div>

  <div class="sideTool">
    <div class="btn_replay"></div>
  </div>

  <div id="contents" class="contents">
    <div>
      <div class="intro">
        <div>
          <h3>How to play?</h3>
          <p>
            <b>圖片敘述</b
            >：一邊看圖一邊閱讀「風箏的製作」，找找看步驟上的空格缺少了什麼？把缺少的動作或物品補上去。<br />1.點擊圖片找出缺少的動作或物品。<br />2.點選空格，找出對應的答案。
          </p>
          <span class="cta" onClick="switchIntro()">START</span>
        </div>
      </div>
      <div class="group">
        <div class="item wow fadeIn">
          <div>
            <div class="sensors">
              <span
                aid="A"
                onclick="selectMe($(this))"
                class="filling"
                style="top: 135px; left: 123px; width: 45px; height: 15px"
                >圖畫紙</span
              >
              <span
                aid="B"
                onclick="selectMe($(this))"
                class="filling"
                style="top: 169px; left: 9px; width: 45px; height: 15px"
                >圖案</span
              >
              <span
                aid="C"
                onclick="selectMe($(this))"
                class="filling"
                style="top: 169px; left: 123px; width: 45px; height: 15px"
                >剪</span
              >
              <span
                aid="D"
                onclick="selectMe($(this))"
                class="filling"
                style="top: 202px; left: 9px; width: 45px; height: 15px"
                >風箏</span
              >
            </div>
            <div class="img" onClick="showCards($(this))">
              <img
                width="200"
                src="./DATA/PT2/BOOK4/IMAGES/PT2-4-1-4-1-1.png"
              />
            </div>
          </div>
        </div>
        <div class="item wow fadeIn">
          <div>
            <div class="sensors">
              <span
                aid="A"
                onclick="selectMe($(this))"
                class="filling"
                style="top: 149px; left: 11px; width: 61px; height: 15px"
                >竹竿</span
              >
              <span
                aid="B"
                onclick="selectMe($(this))"
                class="filling"
                style="top: 150px; left: 126px; width: 47px; height: 15px"
                >十字型</span
              >
              <span
                aid="C"
                onclick="selectMe($(this))"
                class="filling"
                style="top: 168px; left: 11px; width: 61px; height: 15px"
                >黏</span
              >
              <span
                aid="D"
                onclick="selectMe($(this))"
                class="filling"
                style="top: 202px; left: 96px; width: 75px; height: 15px"
                >堅固又威風</span
              >
            </div>
            <div class="img" onClick="showCards($(this))">
              <img
                width="200"
                src="./DATA/PT2/BOOK4/IMAGES/PT2-4-1-4-1-2.png"
              />
            </div>
          </div>
        </div>
        <div class="item wow fadeIn">
          <div>
            <div class="sensors">
              <span
                aid="A"
                onclick="selectMe($(this))"
                class="filling"
                style="top: 143px; left: 122px; width: 45px; height: 15px"
                >緞帶</span
              >
              <span
                aid="B"
                onclick="selectMe($(this))"
                class="filling"
                style="top: 160px; left: 5px; width: 61px; height: 15px"
                >綁</span
              >
              <span
                aid="C"
                onclick="selectMe($(this))"
                class="filling"
                style="top: 177px; left: 137px; width: 49px; height: 15px"
                >飄舞</span
              >
            </div>
            <div class="img" onClick="showCards($(this))">
              <img
                width="200"
                src="./DATA/PT2/BOOK4/IMAGES/PT2-4-1-4-1-3.png"
              />
            </div>
          </div>
        </div>
        <div class="item wow fadeIn">
          <div>
            <div class="sensors">
              <span
                aid="A"
                onclick="selectMe($(this))"
                class="filling"
                style="top: 141px; left: 142px; width: 45px; height: 15px"
                >草地</span
              >
              <span
                aid="B"
                onclick="selectMe($(this))"
                class="filling"
                style="top: 175px; left: 95px; width: 45px; height: 15px"
                >飛翔</span
              >
            </div>
            <div class="img" onClick="showCards($(this))">
              <img
                width="200"
                src="./DATA/PT2/BOOK4/IMAGES/PT2-4-1-4-1-4.png"
              />
            </div>
          </div>
        </div>
      </div>
    </div>

    <div>
      <div class="intro">
        <div>
          <h3>How to play?</h3>
          <p>
            <b>圖片敘述</b
            >：一邊看圖一邊閱讀「小明的露營遊記」，找找看步驟上的空格缺少了什麼？把缺少的動作或物品補上去。<br />1.點擊圖片找出缺少的動作或物品。<br />2.點選空格，找出對應的答案。
          </p>
          <span class="cta" onClick="switchIntro()">START</span>
        </div>
      </div>
      <div class="group">
        <div class="item wow fadeIn">
          <div>
            <div class="sensors">
              <span
                aid="A"
                onclick="selectMe($(this))"
                class="filling"
                style="top: 151px; left: 119px; width: 45px; height: 15px"
                >帳篷</span
              >
              <span
                aid="B"
                onclick="selectMe($(this))"
                class="filling"
                style="top: 185px; left: 8px; width: 51px; height: 15px"
                >桌子</span
              >
              <span
                aid="C"
                onclick="selectMe($(this))"
                class="filling"
                style="top: 185px; left: 81px; width: 51px; height: 15px"
                >椅子</span
              >
              <span
                aid="D"
                onclick="selectMe($(this))"
                class="filling"
                style="top: 202px; left: 137px; width: 46px; height: 15px"
                >踢足球</span
              >
            </div>
            <div class="img" onClick="showCards($(this))">
              <img
                width="200"
                src="./DATA/PT2/BOOK4/IMAGES/PT2-4-1-4-2-1.png"
              />
            </div>
          </div>
        </div>
        <div class="item wow fadeIn">
          <div>
            <div class="sensors">
              <span
                aid="A"
                onclick="selectMe($(this))"
                class="filling"
                style="top: 135px; left: 56px; width: 47px; height: 15px"
                >爸爸</span
              >
              <span
                aid="B"
                onclick="selectMe($(this))"
                class="filling"
                style="top: 152px; left: 13px; width: 47px; height: 15px"
                >烤肉</span
              >
              <span
                aid="C"
                onclick="selectMe($(this))"
                class="filling"
                style="top: 169px; left: 61px; width: 52px; height: 15px"
                >秋刀魚</span
              >
              <span
                aid="D"
                onclick="selectMe($(this))"
                class="filling"
                style="top: 186px; left: 107px; width: 54px; height: 15px"
                >棉花糖</span
              >
            </div>
            <div class="img" onClick="showCards($(this))">
              <img
                width="200"
                src="./DATA/PT2/BOOK4/IMAGES/PT2-4-1-4-2-2.png"
              />
            </div>
          </div>
        </div>
        <div class="item wow fadeIn">
          <div>
            <div class="sensors">
              <span
                aid="A"
                onclick="selectMe($(this))"
                class="filling"
                style="top: 150px; left: 11px; width: 45px; height: 15px"
                >星星</span
              >
              <span
                aid="B"
                onclick="selectMe($(this))"
                class="filling"
                style="top: 168px; left: 27px; width: 45px; height: 15px"
                >篝火</span
              >
              <span
                aid="C"
                onclick="selectMe($(this))"
                class="filling"
                style="top: 185px; left: 107px; width: 78px; height: 15px"
                >掛著笑容</span
              >
            </div>
            <div class="img" onClick="showCards($(this))">
              <img
                width="200"
                src="./DATA/PT2/BOOK4/IMAGES/PT2-4-1-4-2-3.png"
              />
            </div>
          </div>
        </div>
        <div class="item wow fadeIn">
          <div>
            <div class="sensors">
              <span
                aid="A"
                onclick="selectMe($(this))"
                class="filling"
                style="top: 175px; left: 90px; width: 52px; height: 15px"
                >風景</span
              >
              <span
                aid="B"
                onclick="selectMe($(this))"
                class="filling"
                style="top: 192px; left: 121px; width: 51px; height: 15px"
                >旅程</span
              >
            </div>
            <div class="img" onClick="showCards($(this))">
              <img
                width="200"
                src="./DATA/PT2/BOOK4/IMAGES/PT2-4-1-4-2-4.png"
              />
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="assetsPreload"></div>
</div>

<style>
  .item.selected {
    display: flex !important;
    align-items: center;
  }
  .item .img {
    pointer-events: auto;
  }
  .options {
    display: grid;
    margin-left: 20px;
    grid-template-columns: 1fr;
    grid-gap: 5px;
    width: 100px;
  }
  .options.selected > div {
    display: grid;
  }
  .options > div {
    animation: fadeInLeft 0.3s both;
    opacity: 1;
    cursor: pointer;
    pointer-events: auto;
    font-size: 12px;
    line-height: 1.2;
    color: #000;
    width: 100%;
    min-height: 30px;
    place-items: center;
    background: #fff;
    border-radius: 4px;
    padding: 5px;
    display: grid;
    display: none;
    &:nth-child(even) {
      animation-delay: 0.1s;
    }
  }
  .options > div:hover,
  .options > div:focus {
    opacity: 0.85;
  }
</style>
<script>
  var showCards = function (tar) {
    tar.parent().siblings(".options").addClass("selected");
    tar.siblings(".sensors").find(".filling").eq(0).click();
    rootSoundEffect($show);
  };
  var selectMe = function (tar) {
    tar.addClass("selected").siblings(".selected").removeClass("selected");
    rootSoundEffect($key);
  };
  var checkID = function (id) {
    var item = $(".contents > div.selected .group .item.selected");
    var fillingSelected = item.find(".sensors .filling.selected");
    if (fillingSelected.attr("aid") == id) {
      item.find(".sensors .photo").addClass("selected");
      fillingSelected.addClass("showAnswer").removeClass("selected");
      rootSoundEffect($correct);
    } else {
      rootSoundEffect($stupid);
    }
    if (
      item.find(".sensors .filling").length ==
      item.find(".sensors .filling.showAnswer").length
    ) {
      bingo();
    }
    $(".sideTool > div.btn_replay").show();
  };

  var withinResetElem = function () {
    var items = $(".contents > div.selected .group .item");
    items.each(function () {
      $(this).find(".options").remove();
      var fillings = $(this).find(".sensors .filling");
      shuffle(fillings);
      var optionElem = `<div class="options">`;
      for (var i = 0; i < fillings.length; i++) {
        var option = `<div onclick="checkID('${fillings
          .eq(i)
          .attr("aid")}')">${fillings.eq(i).html()}</div>`;
        optionElem += option;
      }
      optionElem += `</div>`;

      $(this).append(optionElem);
    });
  };
</script>
